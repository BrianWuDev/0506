# 測試指南

本文檔提供如何測試多腫瘤網絡視覺化工具的功能和性能的方法。

## 功能測試清單

在使用或分享工具前，請進行以下基本功能測試：

### 1. 安裝依賴套件

```bash
pip install -r requirements.txt
```

確認所有依賴套件安裝成功，沒有錯誤信息。

### 2. 基本運行測試

```bash
python multi_tumor_network.py
```

確認程序能夠正常運行，並生成HTML文件。

### 3. 視覺化顯示測試

- 檢查瀏覽器中是否正確打開了網絡圖
- 確認GCH1節點在中心位置
- 確認每個腫瘤節點有獨特的顏色
- 確認沒有灰色系的節點
- 確認節點大小合適（GCH1最大，其次是腫瘤節點，然後是基因節點）

### 4. 互動功能測試

- **節點拖曳**：嘗試拖曳基因節點，確認可以移動
- **固定節點**：確認GCH1和腫瘤節點位置固定，不能拖動
- **縮放功能**：使用滑鼠滾輪測試縮放功能
- **平移功能**：測試視圖平移功能
- **懸停信息**：懸停在節點上查看詳細信息

### 5. 控制按鈕測試

測試左下角的控制按鈕：

- **Reposition Nodes**：確認重新定位節點按鈕工作正常
- **Expand Layout**：確認擴展布局按鈕工作正常
- **Reset & Stabilize**：確認重置按鈕能夠恢復初始布局
- **Fix All Positions**：確認可以固定所有節點位置
- **Enable Dragging**：確認可以重新啟用拖曳功能

### 6. 下載功能測試

測試右上角的下載按鈕：

- **Download PNG**：確認可以下載普通分辨率PNG圖像
- **Download Hi-Res PNG**：確認可以下載高分辨率PNG圖像

## 數據測試

### 添加測試數據

1. 創建測試CSV文件 `data/TEST Tumor.csv`，內容如下：

```csv
Gene Symbol,PCC
TEST1,0.9
TEST2,0.8
TEST3,0.7
TEST4,0.6
TEST5,0.5
```

2. 運行程序查看結果：

```bash
python multi_tumor_network.py
```

3. 確認TEST腫瘤及其相關基因正確顯示在視覺化中

### 修改配置測試

1. 編輯`multi_tumor_network.py`文件，修改以下參數：

```python
self.min_correlation = 0.7  # 增加閾值
```

2. 再次運行程序：

```bash
python multi_tumor_network.py
```

3. 確認只有PCC值≥0.7的基因顯示在視覺化中

## 性能測試

### 大規模數據測試

如果有大量數據（例如，每個腫瘤類型有數千個基因），運行程序並觀察：

- 程序運行時間
- 內存使用情況
- 視覺化加載速度
- 互動的流暢性

### 瀏覽器兼容性測試

在不同的瀏覽器中測試視覺化效果：

- Google Chrome
- Mozilla Firefox
- Microsoft Edge
- Safari（如果有Mac或iOS設備）

確認在所有主流瀏覽器中視覺化和互動功能都正常工作。

## 錯誤處理測試

### 缺少數據文件

1. 重命名或移動數據目錄中的某個文件
2. 運行程序
3. 確認程序能夠處理缺少的數據，不會崩潰

### 無效數據格式

1. 創建一個格式不符合要求的CSV文件（例如，缺少必要的列）
2. 運行程序
3. 確認程序能夠優雅地處理錯誤，給出適當的錯誤信息

## 報告問題

如果在測試過程中發現任何問題：

1. 確認問題是否可復現
2. 記錄操作步驟和錯誤信息
3. 在GitHub存儲庫中創建Issue報告問題
4. 提供操作環境信息（操作系統、Python版本、瀏覽器版本等） 